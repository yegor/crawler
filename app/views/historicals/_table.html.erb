<table class="table table-striped table-bordered table-condensed">
  <thead>
    <tr>
      <th>Date</th>
      <th>Hour</th>
      
      <% @rankings.each do |chart, data| %>
      <th><%= chart_title(chart) %></th>
      <% end %>
    </tr>
  </thead>
  <tbody>
    <% @dates.each do |date| %>
    <tr>
      <td><%= date.strftime("%d %h") %></td>
      <td><%= date.hour %></td>
      
      <% @rankings.each do |chart, data| %> 
      <td><%= data.first.try(:[], date).try(:rank) || "&mdash;".html_safe %></td>
      <% end %>
    </tr>
    <% end %>
  </tbody>
</table>